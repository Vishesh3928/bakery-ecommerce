{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vansh\\\\Desktop\\\\Bakery_React_Project-master\\\\Bakery_React_Project-master\\\\my-app\\\\src\\\\Components\\\\BakedProduct.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Cart from './Cart';\nimport toast from 'react-hot-toast';\nimport './BakedProduct.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const BakedProduct = () => {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  useEffect(() => {\n    getProducts();\n    getCartData();\n  }, []);\n\n  const getProducts = async () => {\n    let result = await fetch(\"https://sweetcakess.onrender.com/products\");\n    result = await result.json();\n    setProducts(result);\n  };\n\n  const getCartData = async () => {\n    const auth = localStorage.getItem('user');\n\n    if (auth) {\n      let result = await fetch(`https://sweetcakess.onrender.com/cart?userId=${JSON.parse(auth)._id}`);\n      result = await result.json();\n      localStorage.setItem(\"cartCount\", JSON.stringify(result.length));\n      setCartItems(result);\n    }\n  };\n\n  const handleAddToCart = async (product, flag) => {\n    const auth = localStorage.getItem('user');\n    console.log(auth); // setCartItems([...cartItems, product]);\n\n    if (auth) {\n      let result = await fetch(\"https://sweetcakess.onrender.com/add-to-cart\", {\n        method: 'post',\n        body: JSON.stringify({\n          productId: product._id,\n          userId: JSON.parse(auth)._id,\n          addToCart: flag\n        }),\n        headers: {\n          'content-type': 'application/json'\n        }\n      });\n      getCartData();\n      result = await result.json();\n      console.log(\"re\", result);\n    }\n\n    toast.success(`${product.name} Cart Updated`); //   console.warn(result);\n    // window.location.href = \"/cart\";\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-lists\",\n    style: {\n      margin: \"5%\",\n      justifyContent: \"center\",\n      fontSize: \"25px\"\n    },\n    children: [\"Products\", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-lists\",\n      children: products.map((data, key) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productt\",\n          style: {\n            background: \"#C6A9A3\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-imagee\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `images/cake${key + 1}.png`,\n              onError: e => {\n                e.target.src = 'images/cake1.png';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-infoo\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-names\",\n              children: data.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-ratingg\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                role: \"img\",\n                \"aria-label\": \"star\",\n                children: \"\\u2B50\\u2B50\\u2B50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-pricee\",\n              children: [/*#__PURE__*/_jsxDEV(\"del\", {\n                children: \"Price:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 41\n              }, this), \" \", data.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 37\n            }, this), cartItems !== null && cartItems !== void 0 && cartItems.length && cartItems !== null && cartItems !== void 0 && cartItems.find(ele => ele._id == data._id) ? /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => handleAddToCart(data, 0),\n              children: \"Remove from Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 41\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => handleAddToCart(data, 1),\n              children: \"Add to Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 33\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BakedProduct, \"KP80J3dyJRLVLmaBplLp/Yko+x4=\");\n\n_c = BakedProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"BakedProduct\");","map":{"version":3,"names":["React","useEffect","useState","Link","Cart","toast","BakedProduct","products","setProducts","cartItems","setCartItems","getProducts","getCartData","result","fetch","json","auth","localStorage","getItem","JSON","parse","_id","setItem","stringify","length","handleAddToCart","product","flag","console","log","method","body","productId","userId","addToCart","headers","success","name","margin","justifyContent","fontSize","map","data","key","background","e","target","src","price","find","ele"],"sources":["C:/Users/vansh/Desktop/Bakery_React_Project-master/Bakery_React_Project-master/my-app/src/Components/BakedProduct.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom';\nimport Cart from './Cart';\nimport toast  from 'react-hot-toast';\nimport './BakedProduct.css'\n\nexport const BakedProduct = () => {\n    const [products, setProducts] = useState([]);\n    const [cartItems, setCartItems] = useState([]);\n    useEffect(() => {\n        getProducts();\n        getCartData();\n    }, [])\n\n    const getProducts = async () => {\n        let result = await fetch(\"https://sweetcakess.onrender.com/products\")\n        result = await result.json()\n        setProducts(result)\n    }\n\n    const getCartData = async () => {\n        const auth = localStorage.getItem('user')\n        if(auth){\n            let result = await fetch(`https://sweetcakess.onrender.com/cart?userId=${JSON.parse(auth)._id}`)\n            result = await result.json();\n            localStorage.setItem(\"cartCount\",JSON.stringify(result.length));\n            setCartItems(result)\n        }\n    }\n\n    const handleAddToCart = async (product,flag) => {\n        const auth = localStorage.getItem('user')\n        console.log(auth);\n        // setCartItems([...cartItems, product]);\n        if(auth){\n            let result = await fetch(\"https://sweetcakess.onrender.com/add-to-cart\", {\n                method:'post',\n                body:JSON.stringify({productId:product._id,userId:JSON.parse(auth)._id,addToCart:flag}),\n                headers:{\n                  'content-type':'application/json'\n                }\n          });\n          getCartData();\n          result = await result.json();\n          console.log(\"re\",result);\n        }\n        toast.success(`${product.name} Cart Updated`);\n    //   console.warn(result);\n        // window.location.href = \"/cart\";\n    };\n    return (\n        <div className=\"product-lists\"style={{ margin: \"5%\" , justifyContent:\"center\", fontSize:\"25px\"}}>\n            Products\n            \n            {/* <h1 style={{marginTop:\"5%\",textAlign:\"center\"}}>Product List</h1> */}\n\n            <div className=\"product-lists\">\n                {\n                    products.map((data, key) => {\n                        return (\n                            <div key={key} className=\"productt\" style={{background:\"#C6A9A3\"}}>\n\n                                <div className=\"product-imagee\">\n                                <img src={`images/cake${key + 1}.png`}\n                                    onError={e => {\n                                        e.target.src = 'images/cake1.png';\n                                    }} />\n                                </div> \n                                <div className=\"product-infoo\">\n                                    <div className=\"product-names\">{data.name}</div>\n                                    <div className=\"product-ratingg\">\n                                        <span role=\"img\" aria-label=\"star\">\n                                            ⭐⭐⭐\n                                        </span>\n                                    </div>\n                                    <div className=\"product-pricee\">\n                                        <del>Price:</del> {data.price}\n                                    </div>\n                                    {/* <a href=\"#\" class=\"btn btn-primary\">Buy Now</a> */}\n                                    {/* <Link to='/cart'> */}\n                                    {\n                                       cartItems?.length && cartItems?.find((ele)=> ele._id == data._id) ?\n                                        <button className=\"btn btn-primary\" onClick={() => handleAddToCart(data,0)}>Remove from Cart</button>\n                                        :\n                                        <button className=\"btn btn-primary\" onClick={() => handleAddToCart(data,1)}>Add to Cart</button>\n\n                                    }\n                                    {/* </Link> */}\n\n                                    {/* <h5>Name:{data.name}</h5>\n                        <h5>Price:{data.price}/kg</h5>   \n                        <p>Some quick example text to build on the card title and make up the bulk of the card's content.</p>\n                        <a href=\"#\" class=\"btn btn-primary\">Buy Now</a>\n                        <a href=\"#\" class=\"btn btn-primary\" style={{marginLeft:\"5%\"}}>Add to Cart</a> */}\n                                </div>\n                            </div>\n                        )\n                    })\n                }\n            </div>\n\n        </div>\n\n    )\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,MAAmB,iBAAnB;AACA,OAAO,oBAAP;;AAEA,OAAO,MAAMC,YAAY,GAAG,MAAM;EAAA;;EAC9B,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACO,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,EAAD,CAA1C;EACAD,SAAS,CAAC,MAAM;IACZU,WAAW;IACXC,WAAW;EACd,CAHQ,EAGN,EAHM,CAAT;;EAKA,MAAMD,WAAW,GAAG,YAAY;IAC5B,IAAIE,MAAM,GAAG,MAAMC,KAAK,CAAC,2CAAD,CAAxB;IACAD,MAAM,GAAG,MAAMA,MAAM,CAACE,IAAP,EAAf;IACAP,WAAW,CAACK,MAAD,CAAX;EACH,CAJD;;EAMA,MAAMD,WAAW,GAAG,YAAY;IAC5B,MAAMI,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb;;IACA,IAAGF,IAAH,EAAQ;MACJ,IAAIH,MAAM,GAAG,MAAMC,KAAK,CAAE,gDAA+CK,IAAI,CAACC,KAAL,CAAWJ,IAAX,EAAiBK,GAAI,EAAtE,CAAxB;MACAR,MAAM,GAAG,MAAMA,MAAM,CAACE,IAAP,EAAf;MACAE,YAAY,CAACK,OAAb,CAAqB,WAArB,EAAiCH,IAAI,CAACI,SAAL,CAAeV,MAAM,CAACW,MAAtB,CAAjC;MACAd,YAAY,CAACG,MAAD,CAAZ;IACH;EACJ,CARD;;EAUA,MAAMY,eAAe,GAAG,OAAOC,OAAP,EAAeC,IAAf,KAAwB;IAC5C,MAAMX,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb;IACAU,OAAO,CAACC,GAAR,CAAYb,IAAZ,EAF4C,CAG5C;;IACA,IAAGA,IAAH,EAAQ;MACJ,IAAIH,MAAM,GAAG,MAAMC,KAAK,CAAC,8CAAD,EAAiD;QACrEgB,MAAM,EAAC,MAD8D;QAErEC,IAAI,EAACZ,IAAI,CAACI,SAAL,CAAe;UAACS,SAAS,EAACN,OAAO,CAACL,GAAnB;UAAuBY,MAAM,EAACd,IAAI,CAACC,KAAL,CAAWJ,IAAX,EAAiBK,GAA/C;UAAmDa,SAAS,EAACP;QAA7D,CAAf,CAFgE;QAGrEQ,OAAO,EAAC;UACN,gBAAe;QADT;MAH6D,CAAjD,CAAxB;MAOFvB,WAAW;MACXC,MAAM,GAAG,MAAMA,MAAM,CAACE,IAAP,EAAf;MACAa,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAiBhB,MAAjB;IACD;;IACDR,KAAK,CAAC+B,OAAN,CAAe,GAAEV,OAAO,CAACW,IAAK,eAA9B,EAhB4C,CAiBhD;IACI;EACH,CAnBD;;EAoBA,oBACI;IAAK,SAAS,EAAC,eAAf;IAA8B,KAAK,EAAE;MAAEC,MAAM,EAAE,IAAV;MAAiBC,cAAc,EAAC,QAAhC;MAA0CC,QAAQ,EAAC;IAAnD,CAArC;IAAA,oCAKI;MAAK,SAAS,EAAC,eAAf;MAAA,UAEQjC,QAAQ,CAACkC,GAAT,CAAa,CAACC,IAAD,EAAOC,GAAP,KAAe;QACxB,oBACI;UAAe,SAAS,EAAC,UAAzB;UAAoC,KAAK,EAAE;YAACC,UAAU,EAAC;UAAZ,CAA3C;UAAA,wBAEI;YAAK,SAAS,EAAC,gBAAf;YAAA,uBACA;cAAK,GAAG,EAAG,cAAaD,GAAG,GAAG,CAAE,MAAhC;cACI,OAAO,EAAEE,CAAC,IAAI;gBACVA,CAAC,CAACC,MAAF,CAASC,GAAT,GAAe,kBAAf;cACH;YAHL;cAAA;cAAA;cAAA;YAAA;UADA;YAAA;YAAA;YAAA;UAAA,QAFJ,eAQI;YAAK,SAAS,EAAC,eAAf;YAAA,wBACI;cAAK,SAAS,EAAC,eAAf;cAAA,UAAgCL,IAAI,CAACL;YAArC;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAK,SAAS,EAAC,iBAAf;cAAA,uBACI;gBAAM,IAAI,EAAC,KAAX;gBAAiB,cAAW,MAA5B;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;YADJ;cAAA;cAAA;cAAA;YAAA,QAFJ,eAOI;cAAK,SAAS,EAAC,gBAAf;cAAA,wBACI;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QADJ,OACuBK,IAAI,CAACM,KAD5B;YAAA;cAAA;cAAA;cAAA;YAAA,QAPJ,EAaOvC,SAAS,SAAT,IAAAA,SAAS,WAAT,IAAAA,SAAS,CAAEe,MAAX,IAAqBf,SAArB,aAAqBA,SAArB,eAAqBA,SAAS,CAAEwC,IAAX,CAAiBC,GAAD,IAAQA,GAAG,CAAC7B,GAAJ,IAAWqB,IAAI,CAACrB,GAAxC,CAArB,gBACC;cAAQ,SAAS,EAAC,iBAAlB;cAAoC,OAAO,EAAE,MAAMI,eAAe,CAACiB,IAAD,EAAM,CAAN,CAAlE;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADD,gBAGC;cAAQ,SAAS,EAAC,iBAAlB;cAAoC,OAAO,EAAE,MAAMjB,eAAe,CAACiB,IAAD,EAAM,CAAN,CAAlE;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAhBR;UAAA;YAAA;YAAA;YAAA;UAAA,QARJ;QAAA,GAAUC,GAAV;UAAA;UAAA;UAAA;QAAA,QADJ;MAsCH,CAvCD;IAFR;MAAA;MAAA;MAAA;IAAA,QALJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAsDH,CAlGM;;GAAMrC,Y;;KAAAA,Y"},"metadata":{},"sourceType":"module"}