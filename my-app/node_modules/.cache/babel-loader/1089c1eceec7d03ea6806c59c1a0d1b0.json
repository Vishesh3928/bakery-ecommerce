{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vansh\\\\Desktop\\\\Bakery_React_Project-master\\\\Bakery_React_Project-master\\\\my-app\\\\src\\\\Container\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Login.css';\nimport jwt_decode from \"jwt-decode\";\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n\n  const showToast = message => {\n    toast.success(message, {\n      style: {\n        fontSize: '18px' // adjust the font size here\n\n      },\n      duration: 5050 // adjust the duration (in milliseconds) here\n\n    });\n  };\n\n  const showToastError = message => {\n    toast.error(message, {\n      style: {\n        fontSize: '18px' // adjust the font size here\n\n      },\n      duration: 50000 // adjust the duration (in milliseconds) here\n\n    });\n  };\n\n  useEffect(() => {\n    const auth = localStorage.getItem('user');\n    localStorage.setItem(\"ert\", \"qwerty\");\n    console.log(auth);\n\n    if (auth) {\n      navigate('/');\n    }\n  }, []);\n\n  const handleLogin = async () => {\n    let result = await fetch(\"https://sweetcakess.onrender.com/login\", {\n      method: 'post',\n      body: JSON.stringify({\n        email,\n        password\n      }),\n      headers: {\n        'content-type': 'application/json'\n      }\n    });\n    let resultData = await result.json();\n    console.warn(result); // localStorage.setItem(\"user\",JSON.stringify(result))\n    // navigate('/')\n\n    if (resultData !== null && resultData !== void 0 && resultData.name) {\n      localStorage.setItem(\"user\", JSON.stringify(resultData));\n      getCartData(); // setTimeout(()=>{\n      // },8000)\n\n      showToast(`Login succesfull`);\n    } else {\n      // alert(\"please enter correct details!!!\")\n      showToastError(`Login Unsuccesfull`);\n    }\n  };\n\n  const getCartData = async () => {\n    const auth = localStorage.getItem('user');\n\n    if (auth) {\n      let result = await fetch(`https://sweetcakess.onrender.com/cart?userId=${JSON.parse(auth)._id}`);\n      result = await result.json();\n      localStorage.setItem(\"cartCount\", JSON.stringify(result.length));\n      navigate('/');\n    }\n  }; // const[user,setuser]=useState({})\n  // function handleCallbackResponse(response)\n  // {\n  // console.log(\"Encoded JWT ID token\"+response.credential)\n  // var userObject=jwt_decode(response.credential)\n  // console.log(userObject)\n  // setuser(userObject)\n  // document.getElementById(\"signInDiv\").hidden=true\n  // }\n  // function handleSignOut(event)\n  // {\n  //   setuser({})\n  //   document.getElementById(\"signInDiv\").hidden=false\n  // }\n  // useEffect(()=>\n  // {/*global google*/\n  // google.accounts.id.initialize({\n  //   client_id:\"1035531980750-77qmhlntflidkepqherf2o2k0g7biphl.apps.googleusercontent.com\",\n  //   callback: handleCallbackResponse\n  // })\n  // google.accounts.id.renderButton(\n  //   document.getElementById(\"signInDiv\"),\n  //   {theme:\"outline\",size:\"large\"}\n  // )\n  // google.accounts.id.prompt()\n  // },[])\n  //if we have no user : signin button\n  //if we have a user :show log out button\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Border-box\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"containers body\",\n        id: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-container log-in-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"login-heading\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"or use your account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"login-input\",\n              type: \"email\",\n              placeholder: \"Email\",\n              required: true,\n              onChange: e => setEmail(e.target.value),\n              value: email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"login-input\",\n              type: \"password\",\n              placeholder: \"Password\",\n              required: true,\n              onChange: e => setPassword(e.target.value),\n              value: password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"  \", /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"login-header\",\n                href: \"#\",\n                children: \"Forgot your password?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 23\n              }, this), \"  |  \", /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"login-header\",\n                href: \"/register\",\n                children: \"New Sign Up?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 90\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"login-button\",\n              onClick: handleLogin,\n              children: \"Log In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"overlay-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"overlay\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"overlay-panel overlay-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Sweet Cake\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Bite me!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 1\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 1\n  }, this);\n};\n\n_s(Login, \"dIaRiu3riBNiMLm6dkGoLqcsrxI=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jwt_decode","toast","Login","email","setEmail","password","setPassword","navigate","showToast","message","success","style","fontSize","duration","showToastError","error","auth","localStorage","getItem","setItem","console","log","handleLogin","result","fetch","method","body","JSON","stringify","headers","resultData","json","warn","name","getCartData","parse","_id","length","e","target","value"],"sources":["C:/Users/vansh/Desktop/Bakery_React_Project-master/Bakery_React_Project-master/my-app/src/Container/Login.jsx"],"sourcesContent":["import React, { useState,useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom';\nimport  './Login.css'\nimport jwt_decode from \"jwt-decode\"\nimport toast  from 'react-hot-toast';\n\nexport const Login = () => {\n    const [email,setEmail] = useState(\"\");\n    const [password,setPassword] = useState(\"\");\n    const navigate = useNavigate();\n    const showToast = (message) => {\n      toast.success(message, {\n        style: {\n          fontSize: '18px', // adjust the font size here\n        },\n        duration: 5050, // adjust the duration (in milliseconds) here\n      });\n    };\n    const showToastError = (message) => {\n      toast.error(message, {\n        style: {\n          fontSize: '18px', // adjust the font size here\n        },\n        duration: 50000, // adjust the duration (in milliseconds) here\n      });\n    };\n    useEffect(()=>{\n        const auth = localStorage.getItem('user')\n        localStorage.setItem(\"ert\",\"qwerty\");\n\n        console.log(auth);\n        if(auth)\n        {\n          navigate('/')\n        } \n      },[])   \n      \n    const handleLogin = async()=>{\n        let result = await fetch(\"https://sweetcakess.onrender.com/login\", {\n          method:'post',\n          body:JSON.stringify({email,password}),\n          headers:{\n            'content-type':'application/json'\n          }\n        \n    });\n   let  resultData = await result.json();\n    console.warn(result);\n    // localStorage.setItem(\"user\",JSON.stringify(result))\n    // navigate('/')\n    if(resultData?.name){\n        localStorage.setItem(\"user\",JSON.stringify(resultData));\n        getCartData();\n        // setTimeout(()=>{\n        // },8000)\n        showToast(`Login succesfull`);\n    }\n    else{\n        // alert(\"please enter correct details!!!\")\n        showToastError(`Login Unsuccesfull`);\n    }\n\n}\nconst getCartData = async () => {\n  const auth = localStorage.getItem('user')\n  if(auth){\n      let result = await fetch(`https://sweetcakess.onrender.com/cart?userId=${JSON.parse(auth)._id}`)\n      result = await result.json();\n      localStorage.setItem(\"cartCount\",JSON.stringify(result.length));\n      navigate('/')\n\n  }\n}\n// const[user,setuser]=useState({})\n// function handleCallbackResponse(response)\n// {\n// console.log(\"Encoded JWT ID token\"+response.credential)\n// var userObject=jwt_decode(response.credential)\n// console.log(userObject)\n// setuser(userObject)\n// document.getElementById(\"signInDiv\").hidden=true\n// }\n// function handleSignOut(event)\n// {\n//   setuser({})\n//   document.getElementById(\"signInDiv\").hidden=false\n\n// }\n// useEffect(()=>\n// {/*global google*/\n// google.accounts.id.initialize({\n//   client_id:\"1035531980750-77qmhlntflidkepqherf2o2k0g7biphl.apps.googleusercontent.com\",\n//   callback: handleCallbackResponse\n// })\n// google.accounts.id.renderButton(\n//   document.getElementById(\"signInDiv\"),\n//   {theme:\"outline\",size:\"large\"}\n// )\n// google.accounts.id.prompt()\n// },[])\n//if we have no user : signin button\n//if we have a user :show log out button\n  return (\n<div>\n<div className='Border-box'>\n    <div class=\"containers body\" id=\"container\">\n        <div class=\"form-container log-in-container\">\n            <div className='login-form' >\n                <h1 className='login-heading'>Login</h1>\n                <br />\n                \n                {/* <div class=\"social-container\">\n                     <a className='login-header' href=\"#\" class=\"fa fa-facebook\"></a>\n                     <a className='login-header' href=\"#\" class=\"fa fa-twitter\"></a>\n                     <a className='login-header' href=\"#\" class=\"fa fa-google\"></a> \n                </div> */}\n                {/* <div id='signInDiv'></div>\n                {\n                  Object.keys(user).length!=0 &&\n                \n                <button onClick={(e)=>handleSignOut(e)}>sign out</button>\n                  }\n                {\n                  user &&\n                  <div>\n                    <img src={user.picture}></img>\n                    <h3>{user.name}</h3>\n                  </div>\n                } */}\n                <span>or use your account</span> \n                <input className='login-input' type=\"email\" placeholder=\"Email\" required onChange={(e)=>setEmail(e.target.value)} value={email}/>\n                <input className='login-input' type=\"password\" placeholder=\"Password\" required onChange={(e)=>setPassword(e.target.value)} value={password} />\n                {/* <br> */}\n              <span>  <a className='login-header' href=\"#\">Forgot your password?</a>  |  <a className='login-header' href=\"/register\">New Sign Up?</a> </span> \n               <br></br>\n                <button className='login-button' onClick={handleLogin}>Log In</button>\n            </div>\n        </div>\n        <div class=\"overlay-container\">\n                        <div class=\"overlay\">\n                            <div class=\"overlay-panel overlay-right\">\n                                <h1>Sweet Cake</h1>\n                                <p>Bite me!</p>\n                            </div>\n                        </div>\n                    </div>\n        </div>\n    </div> \n    </div>      \n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}